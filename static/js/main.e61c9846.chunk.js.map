{"version":3,"sources":["services/pixabay-api.js","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","App.js","index.js"],"names":["searchQuery","currentPage","axios","get","then","response","data","hits","Searchbar","state","query","handleChange","event","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","this","type","onChange","Component","ImageGalleryItem","url","alt","onClick","src","ImageGallery","pics","map","id","webformatURL","largeImageURL","tags","Button","modalRoot","document","getElementById","Modal","handleKeydown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","App","error","showModal","largeImg","largeImgTags","isLoading","onChangeQuery","fetchPics","options","api","prevState","catch","finally","onPicClick","pic","toggleModal","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","shouldRenderLoadMoreButton","length","color","style","textAlign","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.e61c9846.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '20542752-0490219c09a6da4a08c0fa17e';\n\nconst fetchPics = ({ searchQuery = '', currentPage = 1 }) => {\n  return axios\n    .get(\n      `https://pixabay.com/api/?key=${API_KEY}&q=${searchQuery}&page=${currentPage}&orientation=horizontal&per_page=12&image_type=photo`,\n    )\n    .then(response => response.data.hits);\n};\n\nexport default { fetchPics };\n","import React, { Component } from 'react';\n\nclass Searchbar extends Component {\n\tstate = { query: '' };\n\n\thandleChange = event => {\n\t\tthis.setState({ query: event.currentTarget.value });\n\t};\n\n\thandleSubmit = event => {\n\t\tevent.preventDefault();\n\t\tthis.props.onSubmit(this.state.query);\n\t\tthis.setState({ query: '' });\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<header className='Searchbar'>\n\t\t\t\t<form className='SearchForm' onSubmit = {this.handleSubmit}>\n\t\t\t\t\t<button type='submit' className='SearchForm-button'></button>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='text' className='SearchForm-input'\n\t\t\t\t\t\tvalue={this.state.query}\n\t\t\t\t\t\tonChange={ this.handleChange }\n\t\t\t\t\t/>\n\t\t\t\t</form>\n\t\t\t</header>)\n\t}\n}\n \nexport default Searchbar;","const ImageGalleryItem = ({ url, alt, onClick }) => (\n\t<>\n\t\t<img\n\t\t\tsrc={url}\n\t\t\talt={alt}\n\t\t\tonClick={onClick} className=\"ImageGalleryItem-image\"\n\t\t/>\n\t</>\n);\n \nexport default ImageGalleryItem;","import ImageGalleryItem from '../ImageGalleryItem';\n\nconst ImageGallery = ({pics, onClick}) => (\n\t<ul className=\"ImageGallery\">\n\t\t{pics.map(({ id, webformatURL, largeImageURL, tags }) => (\n\t\t\t<li className=\"ImageGalleryItem\" key={id}>\n\t\t\t\t<ImageGalleryItem\n\t\t\t\t\turl={webformatURL}\n\t\t\t\t\talt={tags}\n\t\t\t\t\tonClick={()=>onClick(largeImageURL, tags)}\n\t\t\t\t/>\n\t\t\t</li>\n\t\t))}\n\t</ul>\n)\n \nexport default ImageGallery;","const Button = ({onClick}) => (\n\t<button type='button' className='Button' onClick={onClick}>Load more</button>\n)\n \nexport default Button;","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\n\nconst modalRoot = document.getElementById('modal-root');\n\nclass Modal extends Component {\n\t\n\tcomponentDidMount() {\n\t\twindow.addEventListener('keydown', this.handleKeydown);\n\t};\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('keydown', this.handleKeydown);\n\t};\n\t\n\thandleKeydown = event => {\n\t\tif (event.code === 'Escape') {\n\t\t\tthis.props.onClose();\n\t\t};\n\t};\n\n\thandleBackdropClick = event => {\n\t\tif (event.currentTarget === event.target) {\n\t\t\tthis.props.onClose()\n\t\t};\n\t};\n\n\trender() {\n\t\tconst { url, alt} = this.props\n\t\treturn createPortal(\n\t\t\t<div className=\"Overlay\" onClick={ this.handleBackdropClick}>\n  \t\t\t<div className=\"Modal\">\n\t\t\t\t\t<img src={url} alt={alt} />\n \t\t\t\t</div>\n\t\t\t</div>, modalRoot\n\t\t);\n\t}\n};\n \nexport default Modal;","import React, { Component } from 'react';\nimport api from './services/pixabay-api';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button/Button';\nimport Modal from './components/Modal';\nimport Loader from 'react-loader-spinner';\n\nclass App extends Component {\n  state = {\n    pics: [],\n    searchQuery: '',\n    currentPage: 1,\n    error: null,\n    showModal: false,\n    largeImg: '',\n    largeImgTags: '',\n    isLoading: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchPics();\n    }\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  onChangeQuery = query => {\n    this.setState({ searchQuery: query, currentPage: 1, pics: [] });\n  };\n\n  fetchPics = () => {\n    const { searchQuery, currentPage } = this.state;\n    const options = { searchQuery, currentPage };\n\n    this.setState({ isLoading: true });\n\n    api\n      .fetchPics(options)\n      .then(pics => {\n        this.setState(prevState => ({\n          pics: [...prevState.pics, ...pics],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  onPicClick = (pic, tags) => {\n    this.setState({ showModal: true, largeImg: pic, largeImgTags: tags });\n  };\n\n  toggleModal = () => {\n    this.setState(prevState => ({\n      showModal: !prevState.showModal,\n    }));\n  };\n\n  render() {\n    const {\n      pics,\n      largeImg,\n      largeImgTags,\n      showModal,\n      isLoading,\n      error,\n    } = this.state;\n    const shouldRenderLoadMoreButton = pics.length > 0 && !isLoading;\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.onChangeQuery} />\n\n        <ImageGallery pics={pics} onClick={this.onPicClick} />\n\n        {isLoading && (\n          <Loader className=\"Loader\" color=\"#3f51b5\" type=\"ThreeDots\" />\n        )}\n        {shouldRenderLoadMoreButton && <Button onClick={this.fetchPics} />}\n\n        {error && (\n          <p style={{ textAlign: 'center' }}>\n            Something went wrong. Please try again.\n          </p>\n        )}\n\n        {showModal && (\n          <Modal url={largeImg} alt={largeImgTags} onClose={this.toggleModal} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}